// Datos iniciales de libros en formato JSON
let biblioteca = {
    "libros": [
        {
            "titulo": "Cien aÃ±os de soledad",
            "autor": "Gabriel GarcÃ­a MÃ¡rquez",
            "genero": "Realismo mÃ¡gico",
            "disponible": true
        },
        {
            "titulo": "1984",
            "autor": "George Orwell",
            "genero": "DistopÃ­a",
            "disponible": true
        }
    ]
};

// FunciÃ³n para simular la lectura de datos (como si viniera de un archivo JSON)
function leerDatos(callback) {
    setTimeout(() => {
        callback(biblioteca);
    }, 1000);
}

// FunciÃ³n para mostrar todos los libros en consola
function mostrarLibros() {
    leerDatos((datos) => {
        console.log("ðŸ“š Inventario de libros:");
        datos.libros.forEach((libro, index) => {
            console.log(`${index + 1}. ${libro.titulo} - ${libro.autor} (${libro.disponible ? 'Disponible' : 'Prestado'})`);
        });
        console.log("--------------------------------------------------");
    });
}

// FunciÃ³n para agregar un nuevo libro
function agregarLibro(titulo, autor, genero, disponible) {
    const nuevoLibro = { titulo, autor, genero, disponible };
    setTimeout(() => {
        biblioteca.libros.push(nuevoLibro);
        console.log(`âœ… Libro agregado: "${titulo}"`);
    }, 1000);
}

// FunciÃ³n para cambiar la disponibilidad de un libro
function actualizarDisponibilidad(titulo, nuevoEstado) {
    setTimeout(() => {
        const libro = biblioteca.libros.find(l => l.titulo === titulo);
        if (libro) {
            libro.disponible = nuevoEstado;
            console.log(`ðŸ”„ Disponibilidad de "${titulo}" actualizada a: ${nuevoEstado ? 'Disponible' : 'Prestado'}`);
        } else {
            console.log(`âŒ Libro "${titulo}" no encontrado.`);
        }
    }, 1000);
}

// EjecuciÃ³n de ejemplo
mostrarLibros();
agregarLibro("El principito", "Antoine de Saint-ExupÃ©ry", "FÃ¡bula", true);
actualizarDisponibilidad("1984", false);

// Opcional: ver el inventario actualizado despuÃ©s de unos segundos
setTimeout(() => {
    mostrarLibros();
}, 4000);
